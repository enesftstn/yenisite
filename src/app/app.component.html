<div class="auto-parts-app">
  <!-- Added sidebar overlay -->
  <div class="sidebar-overlay" [class.active]="isSidebarOpen" (click)="toggleSidebar()"></div>

  <!-- Added sidebar -->
  <aside class="sidebar" [class.open]="isSidebarOpen">
    <div class="sidebar-header">
      <h3>🔧 Menu</h3>
      <button class="close-btn" (click)="toggleSidebar()">×</button>
    </div>
    
    <nav class="sidebar-nav">
      <button class="nav-item" [class.active]="activeTab === 'dashboard'" (click)="setActiveTab('dashboard')">
        📊 Dashboard
      </button>
      <button class="nav-item" [class.active]="activeTab === 'browse'" (click)="setActiveTab('browse')">
        🔍 Browse Parts
      </button>
      <button class="nav-item" [class.active]="activeTab === 'my-parts'" (click)="setActiveTab('my-parts')">
        📦 My Parts
      </button>
      <button class="nav-item" [class.active]="activeTab === 'messages'" (click)="setActiveTab('messages')">
        💬 Messages
      </button>
      <button class="nav-item" [class.active]="activeTab === 'favorites'" (click)="setActiveTab('favorites')">
        ❤️ Favorites
      </button>
      <button class="nav-item" [class.active]="activeTab === 'orders'" (click)="setActiveTab('orders')">
        📋 Orders
      </button>
    </nav>
    
    <div class="sidebar-footer">
      <button class="nav-item" (click)="openLogin()">
        🔑 Login
      </button>
      <button class="nav-item" (click)="openRegister()">
        📝 Register
      </button>
    </div>
  </aside>

  <!-- Header -->
  <header class="header">
    <div class="container">
      <div class="header-content">
        <!-- Added hamburger menu button -->
        <button class="hamburger-btn" (click)="toggleSidebar()">
          <span></span>
          <span></span>
          <span></span>
        </button>
        
        <div class="logo">
          <h1>🔧 AutoParts Exchange</h1>
          <p>Your trusted middleman for auto parts</p>
        </div>
        
        <nav class="nav">
          <button class="btn btn-secondary" (click)="onListPart()">List a Part</button>
          <!-- Added settings button -->
          <button class="settings-btn" (click)="toggleSettings()">⚙️</button>
        </nav>
      </div>
    </div>
  </header>

  <!-- Added settings dropdown -->
  <div class="settings-dropdown" [class.open]="isSettingsOpen">
    <div class="settings-content">
      <h4>Settings</h4>
      <button class="settings-item">🌙 Dark Mode</button>
      <button class="settings-item">🔔 Notifications</button>
      <button class="settings-item">👤 Profile</button>
      <button class="settings-item">🛡️ Privacy</button>
      <button class="settings-item">❓ Help</button>
      <button class="settings-item">🚪 Logout</button>
    </div>
  </div>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <div class="hero-content">
        <h2>Find the Perfect Auto Part</h2>
        <p>Connect with trusted sellers and buyers through our secure platform</p>
        
        <div class="search-section">
          <div class="search-bar">
            <input 
              type="text" 
              [(ngModel)]="searchQuery"
              placeholder="Search for parts, brands, or models..."
              class="search-input"
              (keyup.enter)="onSearch()"
            >
            <button class="btn btn-primary search-btn" (click)="onSearch()">
              🔍 Search
            </button>
          </div>
          
          <div class="quick-filters">
            <span class="filter-label">Popular:</span>
            <button class="filter-tag">Brake Pads</button>
            <button class="filter-tag">Headlights</button>
            <button class="filter-tag">Bumpers</button>
            <button class="filter-tag">Engines</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Featured Parts -->
  <section class="featured-parts">
    <div class="container">
      <h3>Featured Parts</h3>
      <div class="parts-grid">
        <div class="part-card card" *ngFor="let part of featuredParts">
          <div class="part-image">
            <img [src]="part.image" [alt]="part.name" />
            <div class="condition-badge" [class]="part.condition.toLowerCase().replace(' ', '-')">
              {{ part.condition }}
            </div>
          </div>
          
          <div class="part-info">
            <h4>{{ part.name }}</h4>
            <p class="part-details">{{ part.brand }} {{ part.model }} ({{ part.year }})</p>
            <div class="part-meta">
              <span class="price">${{ part.price }}</span>
              <span class="location">📍 {{ part.location }}</span>
            </div>
            <p class="seller">Sold by: {{ part.seller }}</p>
            
            <button class="btn btn-primary contact-btn" (click)="onContactSeller(part)">
              Contact Seller
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- How It Works -->
  <section class="how-it-works">
    <div class="container">
      <h3>How It Works</h3>
      <div class="steps-grid">
        <div class="step card">
          <div class="step-icon">🔍</div>
          <h4>1. Search & Browse</h4>
          <p>Find the exact part you need from our extensive database of listings</p>
        </div>
        
        <div class="step card">
          <div class="step-icon">🤝</div>
          <h4>2. Connect Safely</h4>
          <p>We facilitate secure connections between buyers and sellers</p>
        </div>
        
        <div class="step card">
          <div class="step-icon">✅</div>
          <h4>3. Complete Transaction</h4>
          <p>Complete your purchase with confidence through our trusted platform</p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section">
    <div class="container">
      <div class="cta-content">
        <h3>Ready to Start Trading?</h3>
        <p>Join thousands of auto enthusiasts buying and selling parts</p>
        <div class="cta-buttons">
          <button class="btn btn-primary" (click)="onSearch()">Browse Parts</button>
          <button class="btn btn-secondary" (click)="onListPart()">List Your Parts</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h4>🔧 AutoParts Exchange</h4>
          <p>Your trusted middleman for auto parts trading</p>
        </div>
        
        <div class="footer-section">
          <h5>Quick Links</h5>
          <ul>
            <li><a href="#">Browse Parts</a></li>
            <li><a href="#">List a Part</a></li>
            <li><a href="#">How It Works</a></li>
            <li><a href="#">Support</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h5>Categories</h5>
          <ul>
            <li><a href="#">Engine Parts</a></li>
            <li><a href="#">Body Parts</a></li>
            <li><a href="#">Electrical</a></li>
            <li><a href="#">Interior</a></li>
          </ul>
        </div>
      </div>
      
      <div class="footer-bottom">
        <p>&copy; 2024 AutoParts Exchange. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Added login modal -->
  <div class="modal-overlay" [class.active]="isLoginOpen" (click)="closeModals()">
    <div class="modal" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h3>Login</h3>
        <button class="close-btn" (click)="closeModals()">×</button>
      </div>
      <form class="modal-form" (ngSubmit)="onLogin()">
        <div class="form-group">
          <label>Email</label>
          <input type="email" [(ngModel)]="loginData.email" name="email" required>
        </div>
        <div class="form-group">
          <label>Password</label>
          <input type="password" [(ngModel)]="loginData.password" name="password" required>
        </div>
        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Login</button>
          <button type="button" class="btn btn-secondary" (click)="openRegister()">Register Instead</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Added register modal -->
  <div class="modal-overlay" [class.active]="isRegisterOpen" (click)="closeModals()">
    <div class="modal" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h3>Register</h3>
        <button class="close-btn" (click)="closeModals()">×</button>
      </div>
      <form class="modal-form" (ngSubmit)="onRegister()">
        <div class="form-group">
          <label>Full Name</label>
          <input type="text" [(ngModel)]="registerData.name" name="name" required>
        </div>
        <div class="form-group">
          <label>Email</label>
          <input type="email" [(ngModel)]="registerData.email" name="email" required>
        </div>
        <div class="form-group">
          <label>Password</label>
          <input type="password" [(ngModel)]="registerData.password" name="password" required>
        </div>
        <div class="form-group">
          <label>Confirm Password</label>
          <input type="password" [(ngModel)]="registerData.confirmPassword" name="confirmPassword" required>
        </div>
        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Register</button>
          <button type="button" class="btn btn-secondary" (click)="openLogin()">Login Instead</button>
        </div>
      </form>
    </div>
  </div>
</div>
